<!doctype html>
<html lang="en">
<head>
  <!-- ✅ Basic Meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- ✅ Primary SEO -->
  <title>CrimsonPress — Modern Tech Blog on Design, Development & AI</title>
  <meta name="description" content="CrimsonPress is a modern black & red tech blog covering web development, design, AI, career growth and digital trends. Fast, clean and professional.">
  <meta name="keywords" content="tech blog, web development blog, AI blog, design blog, programming, JavaScript, CSS, career in tech">
  <meta name="author" content="CrimsonPress">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="../favicon.png">

  <!-- ✅ Favicon -->
  <link rel="icon" type="image/png" href="../favicon.png">

  <!-- ✅ Preload Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #0a0a0b;      /* near-black */
      --panel: #111113;   /* slightly lighter */
      --muted: #7a7a7a;   /* gray-6 */
      --text: #f5f5f7;    /* off-white */
      --subtext:#c4c4c6;  
      --line: #202022;    
      --accent: #ef233c;  /* crimson */
      --accent-2:#ff4757; /* bright red */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --radius-sm: 12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 800px at 85% -10%, rgba(239,35,60,.08), transparent 60%),
                                 linear-gradient(180deg, rgba(239,35,60,.03), transparent 20%),
                                 var(--bg); 
      color:var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; letter-spacing:.1px;
    }
    a{color:inherit; text-decoration:none}
    img{max-width:100%; display:block}
    button{font:inherit}

    /* Top progress bar */
    .progress{position:fixed; inset:0 0 auto 0; height:3px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); transform-origin:0 50%; transform:scaleX(0); z-index:1000}

    header{
      position:sticky; top:0; z-index:999; backdrop-filter:saturate(160%) blur(10px);
      background:rgba(10,10,11,.6); border-bottom:1px solid var(--line);
    }
    .nav{max-width:1200px; margin:auto; padding:14px 20px; display:flex; align-items:center; gap:14px}
    .brand{display:flex; align-items:center; gap:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:linear-gradient(180deg,#111,#0b0b0c); box-shadow:var(--shadow)}
    .logo{width:28px; height:28px; display:grid; place-items:center; border-radius:10px; background:conic-gradient(from 180deg at 50% 50%, var(--accent), #c4002c 25%, #700017 50%, #c4002c 75%, var(--accent));}
    .brand b{font-weight:800; letter-spacing:.6px}

    .nav-controls{display:flex; gap:12px; align-items:center; margin-left:auto}
    .chip{padding:8px 12px; border-radius:999px; background:#121214; border:1px solid var(--line); color:var(--subtext); cursor:pointer}
    .chip.active{background:linear-gradient(180deg,#18181b,#121214); color:var(--text); border-color:#2a2a2d}

    .search{position:relative; width:min(420px, 46vw)}
    .search input{
      width:100%; padding:12px 40px 12px 14px; border-radius:999px; border:1px solid var(--line); background:#0f0f11; color:var(--text);
      outline:none; box-shadow: inset 0 0 0 1px transparent; transition: box-shadow .2s ease;
    }
    .search input:focus{ box-shadow: inset 0 0 0 1px var(--accent) }
    .search .icon{position:absolute; right:12px; top:50%; translate:0 -50%; opacity:.7; font-family:"JetBrains Mono", monospace; font-size:.9rem}

    main{max-width:1200px; margin:22px auto; padding:0 20px; display:grid; grid-template-columns: 1.6fr .9fr; gap:24px}
    @media (max-width: 980px){ main{grid-template-columns: 1fr} .nav{flex-wrap:wrap} .nav-controls{order:3; width:100%} .search{flex:1; width:100%} }

    .panel{background:linear-gradient(180deg,#121214,#0d0d0f); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow)}

    /* Hero */
    .hero{padding:22px; display:grid; grid-template-columns: 1.1fr 1fr; gap:18px; align-items:stretch}
    .hero .cover{border-radius:var(--radius); overflow:hidden; position:relative}
    .hero .cover img{height:100%; object-fit:cover}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:#151517; border:1px solid var(--line); border-radius:999px; color:var(--subtext)}
    .badge i{width:8px; height:8px; border-radius:50%; background:var(--accent)}
    .hero h1{margin:12px 0 8px; font-size:1.8rem}
    .meta{display:flex; gap:16px; color:var(--muted); font-size:.9rem}

    /* Grid */
    .toolbar{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--line)}
    .toolbar .filters{display:flex; gap:10px; flex-wrap:wrap}
    .toolbar .select{padding:8px 10px; background:#0f0f11; border:1px solid var(--line); border-radius:10px; color:var(--subtext)}

    .grid{padding:16px; display:grid; grid-template-columns: repeat(3, 1fr); gap:16px}
    @media (max-width: 1200px){ .grid{grid-template-columns: repeat(2,1fr)} }
    @media (max-width: 680px){ .grid{grid-template-columns: 1fr} }
    .card{display:flex; flex-direction:column; gap:10px; border:1px solid var(--line); border-radius:16px; overflow:hidden; background:linear-gradient(180deg,#141416,#101012)}
    .card .thumb{aspect-ratio:16/9; background:#0d0d0f}
    .card .content{padding:12px 12px 14px}
    .card h3{margin:6px 0 6px; font-size:1.05rem}
    .card .meta{gap:10px}
    .tag{display:inline-flex; padding:4px 8px; border:1px dashed #2a2a2d; border-radius:999px; color:var(--subtext); font-size:.8rem}
    .readmore{margin-top:8px; display:inline-flex; align-items:center; gap:8px; color:var(--accent); font-weight:600}

    /* Sidebar */
    .sidebar{display:flex; flex-direction:column; gap:18px}
    .widget{padding:16px}
    .widget h4{margin:0 0 12px; font-size:1rem; letter-spacing:.3px}
    .list{display:flex; flex-direction:column; gap:10px}
    .list a{display:flex; gap:10px; align-items:center; color:var(--subtext)}
    .list img{width:64px; height:48px; object-fit:cover; border-radius:10px}
    .newsletter input{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#0f0f11; color:var(--text); margin-top:8px}
    .newsletter button{margin-top:8px; width:100%; padding:10px 12px; border-radius:10px; border:1px solid #3a0a12; background:linear-gradient(90deg,#b10028, var(--accent)); color:white; cursor:pointer}

    /* Pagination */
    .pagination{display:flex; justify-content:center; gap:8px; padding:16px}
    .page-btn{padding:8px 12px; border-radius:10px; border:1px solid var(--line); background:#101013; color:var(--subtext); cursor:pointer}
    .page-btn.active{border-color:#2a2a2d; color:var(--text); background:#141417}

    /* Post view */
    .post{display:none}
    .post.active{display:block}
    .post .cover{border-bottom:1px solid var(--line); overflow:hidden; border-radius:var(--radius) var(--radius) 0 0}
    .post .wrap{padding:20px}
    .post h1{font-size:2rem; margin:.2em 0}
    .post .byline{color:var(--muted)}
    article{line-height:1.75; color:#e7e7ea}
    article h2, article h3{margin-top:1.6em; position:relative; padding: 0px 4px;}
    article h2{border-bottom: solid rgba(165, 0, 0, 1);}
    article pre{background:#0a0a0c; border:1px solid var(--line); padding:12px; border-radius:12px; overflow:auto; font-family:"JetBrains Mono", monospace; font-size:.9rem}
    article code{font-family:"JetBrains Mono", monospace; background:#121214; border:1px solid #202124; padding:.15em .35em; border-radius:6px}
    .toc{position:sticky; top:76px; padding:14px; border-left:2px solid #2a2a2d; color:var(--subtext)}
    .toc a{display:block; padding:6px 0; color:inherit}
    .share{display:flex; gap:10px; flex-wrap:wrap}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid var(--line); background:#0f0f11; color:var(--text); cursor:pointer}
    .btn.accent{background:linear-gradient(90deg,#b10028, var(--accent)); border-color:#3a0a12}

    .two-col{display:grid; grid-template-columns: 1.3fr .7fr; gap:18px}
    @media (max-width: 980px){ .two-col{grid-template-columns:1fr} .toc{border-left:none; border-top:2px solid #2a2a2d} }

    /* Comments */
    .comments{margin-top:18px}
    .comment{border-top:1px solid var(--line); padding:12px 0}
    .comment .who{color:var(--subtext); font-size:.9rem}
    .comment-form input, .comment-form textarea{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#0f0f11; color:var(--text)}
    .comment-form textarea{min-height:100px; resize:vertical}

    /* Floating */
    .to-top{position:fixed; right:20px; bottom:20px; padding:10px 12px; border-radius:999px; border:1px solid var(--line); background:#0f0f11; color:var(--text); cursor:pointer; box-shadow:var(--shadow); display:none}
    .to-top.show{display:block}

    #popular a{word-spacing: 4px;}

    footer{max-width:1200px; margin:30px auto; padding:20px; color:var(--muted); border-top:1px solid var(--line)}
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>

  <header>
    <nav class="nav">
      <a class="brand" href="#/">
        <span class="logo" aria-hidden="true"></span>
        <b>CrimsonPress</b>
      </a>

      <div class="search" role="search">
        <input id="search" type="search" placeholder="Search articles ( / to focus )" aria-label="Search articles" />
        <span class="icon">⌘K</span>
      </div>

      <div class="nav-controls" id="categoryChips" aria-label="Categories"></div>
    </nav>
  </header>

  <main>
    <!-- Left content column -->
    <section>
      <!-- Hero feature -->
      <div class="panel hero" id="hero" aria-label="Featured article">
        <div class="copy">
          <span class="badge"><i></i><span id="heroCat">Featured</span></span>
          <h1 id="heroTitle">—</h1>
          <div class="meta"><span id="heroMeta">—</span></div>
          <p id="heroExcerpt" style="color:var(--subtext)">—</p>
          <a class="readmore" id="heroRead" href="#">Read article →</a>
        </div>
        <div class="cover"><img id="heroImg" alt="Featured cover"></div>
      </div>

      <!-- Toolbar -->
      <div class="panel">
        <div class="toolbar">
          <div class="filters" id="filters"></div>
          <select class="select" id="sort">
            <option value="new">Newest</option>
            <option value="old">Oldest</option>
            <option value="read">Shortest read</option>
            <option value="popular">Most liked</option>
          </select>
        </div>

        <!-- Grid of posts -->
        <div class="grid" id="grid" aria-live="polite"></div>
        <div class="pagination" id="pagination"></div>
      </div>
    </section>

    <!-- Sidebar column -->
    <aside class="sidebar">
      <div class="panel widget">
        <h4>About</h4>
        <p style="color:var(--subtext)">A sleek, single‑file blog template focused on clarity and speed. Built with semantic HTML, modern CSS, and vanilla JS. Theme: black & red.</p>
      </div>

      <div class="panel widget">
        <h4>Popular</h4>
        <div class="list" id="popular"></div>
      </div>

      
    <div class="panel widget newsletter">
      <h4>Newsletter</h4>
      <form action="../5221_Backend/Home/server.php" method="post">
        <p style="color:var(--subtext)">Get new posts straight to your inbox.</p>
       <!-- <input id="email" name="email" type="email" placeholder="you@example.com" required />-->
      <button id="subscribe" name="crimson_subscriber"><a href="../index.html#contact">Subscribe</a></button>
      </form>
      <p id="submsg" style="margin:8px 0 0; color:var(--subtext)"></p>
    </div>

      <div class="panel widget">
        <h4>Tags</h4>
        <div class="filters" id="tagChips"></div>
      </div>
    </aside>
  </main>

  <!-- Post view (SPA) -->
  <section class="panel post" id="postView" aria-label="Post view">
    <div class="cover"><img id="postImg" alt="Post cover" loading="lazy"></div>
    <div class="wrap two-col">
      <div>
        <a class="btn" href="#/">← Back to articles</a>
        <h1 id="postTitle">—</h1>
        <div class="byline" id="postMeta">—</div>
        <div class="share" style="margin:10px 0 16px">
          <button class="btn" id="copyLink">Copy link</button>
          <button class="btn" id="likeBtn">♡ Like <span id="likeCount" style="margin-left:6px; opacity:.7"></span></button>
          <button class="btn accent" id="jumpComments">Jump to comments</button>
        </div>
        <article id="postBody"></article>

        <div class="comments" id="comments">
          <h3>Comments</h3>
          <div id="commentList"></div>
          <div class="comment-form" style="margin-top:10px">
            <input id="who" placeholder="Name" aria-label="Your name" style="margin-bottom:8px" />
            <textarea id="what" placeholder="Write a comment…" aria-label="Comment"></textarea>
            <button class="btn accent" id="saveComment" style="margin-top:8px">Post comment</button>
          </div>
        </div>
      </div>
      <div class="toc" id="toc">
        <b style="color:var(--text)">On this page</b>
        <div id="tocList"></div>
      </div>
    </div>
  </section>

  <button class="to-top" id="toTop" aria-label="Back to top">↑</button>

  <footer>
    <div style="display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap">
      <span>© <span id="year"></span> CrimsonPress.</span>
      <span>Keyboard: <code>/</code> focus search · <code>J</code>/<code>K</code> paginate</span>
    </div>
  </footer>

  <script>
  // ====== Fake post data (replace with API calls later) ======
  const POSTS = [
    { id:1, slug:'designing-for-dark', title:'Designing for Dark Mode: Practical Tips', category:'Design', tags:['UI','Accessibility','Dark Mode'], date:'2025-08-06', author:'Ava Carter', read:6, likes:34,
      excerpt:'Contrast, color ramps, and elevation cues to make dark UIs shine without eye strain.',
      cover:'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=1200&auto=format&fit=crop',
      body:`<p>Dark themes are more than inverted colors. Start with a <strong>neutral canvas</strong> and introduce color through accents and content. Keep your <em>elevation</em> system predictable and use subtle borders (not drop shadows) to separate layers.</p>
      <h2>Contrast strategy</h2>
      <p>Target a minimum of 4.5:1 for text. Avoid pure black text on pure white or vice‑versa; opt for off‑whites and near‑blacks to reduce glare.</p>
      <h3>Color ramps</h3>
      <p>Create ramps that compress the low end (darks) and expand mid/high tones. Test with real screenshots, not just swatches.</p>
      <pre><code>// Example ramp
--bg: #0a0a0b;
--panel: #111113;
--line: #202022;</code></pre>
      <p>Finally, validate with users in low‑light conditions.</p>`},
    { id:2, slug:'javascript-performance', title:'JavaScript Performance in 2025: 8 Quick Wins', category:'Development', tags:['JavaScript','Performance'], date:'2025-07-18', author:'Noah Singh', read:7, likes:48,
      excerpt:'From hydration strategies to <code>requestIdleCallback</code>—practical steps to ship fast experiences.',
      cover:'https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1200&auto=format&fit=crop',
      body:`<p>Focus first on <strong>critical rendering path</strong>. Inline above‑the‑fold CSS, defer non‑critical JS, and break long tasks.</p>
      <h2>Ideas</h2>
      <ul><li>Use <code>IntersectionObserver</code> for lazy sections.</li><li>Bundle‑split: route‑level over component‑level.</li><li>Prefer <code>transform</code> to <code>top/left</code> for animations.</li></ul>`},
    { id:3, slug:'writing-better', title:'Writing Better Technical Posts', category:'Writing', tags:['Content','Editing'], date:'2025-06-22', author:'Mia Zhang', read:5, likes:29,
      excerpt:'Lead with problems, show steps, end with a checklist. Your readers will thank you.',
      cover:'https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1200&auto=format&fit=crop',
      body:`<p>Start with the reader’s pain point. Then deliver a path from <em>confusion to clarity</em> with headings and code blocks.</p>
      <h2>An outline that works</h2>
      <ol><li>Problem</li><li>Why it happens</li><li>Fix with steps</li><li>Pitfalls</li><li>Recap</li></ol>`},
    { id:4, slug:'css-architecture', title:'Scalable CSS Architecture', category:'Development', tags:['CSS','Architecture'], date:'2025-05-30', author:'Ishaan Rao', read:8, likes:22,
      excerpt:'Naming, layering, and constraints for styles that don’t tangle as your app grows.',
      cover:'https://images.unsplash.com/photo-1501854140801-50d01698950b?q=80&w=1200&auto=format&fit=crop',
      body:`<p>Choose a convention and stick to it: BEM, ITCSS, or utility‑first. The point is <strong>consistency</strong>.</p>
      <h2>Layers</h2>
      <p>Base → Components → Utilities. Keep overrides rare and intentional.</p>`},
    { id:5, slug:'ai-tooling', title:'Using AI to Accelerate Front‑End Workflows', category:'AI', tags:['AI','Productivity'], date:'2025-04-19', author:'Layla Kim', read:9, likes:55,
      excerpt:'Prompts as specs, code review copilots, and guardrails for quality.',
      cover:'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?q=80&w=1200&auto=format&fit=crop',
      body:`<p>Use AI as a <em>fast draft</em> tool, then refine. Pair it with strict linting, tests, and design tokens to reduce regressions.</p>`},
    { id:6, slug:'career-roadmap', title:'Your 6‑Month Career Refresh Plan', category:'Career', tags:['Growth','Planning'], date:'2025-04-05', author:'Leo Martins', read:6, likes:18,
      excerpt:'A focused plan across skills, portfolio, and outreach to reboot momentum.',
      cover:'https://images.unsplash.com/photo-1472289065668-ce650ac443d2?q=80&w=1200&auto=format&fit=crop',
      body:`<h2>Plan</h2><p>Month 1–2: Foundations. Month 3–4: Projects. Month 5–6: Outreach and interviews.</p>`},
    { id:7, slug:'Technology', title:'How the Movie Piracy Websites Work - Technical Breakdown ', category:'Tech Blog', tags:['Tech','Pircary', 'Computer Network', 'Piracy Scam Network'], date:'2025-12-01', author:'Murn_Help', read:6, likes:18,
      excerpt:'Here\'s a simple but technically accurate explanation of how movie-piracy websites work behind the scenes. (This is for educational awareness, not for illegal use.)',
      cover:'https://ik.imagekit.io/th8xabiur/ca954a7becc4a6d27ada0ac46f549ff1.jpg',
      body:`<h2>Content Source ( How they get movies )</h2><p>Piracy sites mostly get movies using:</p> <ul> <li>CAM recordings (recorded in theaters using cameras)</li> <li>Screeners / DVDRip leaks (leaked copies given for award or review)</li> <li>OTT/WebRip downloads (captured from streaming apps using screen-recorder bypass or DRM break tools)</li> <li>Torrent leaks (movies uploaded on torrent networks)</li></ul> <p>Once obtained, the admin re-encodes the video using tools like:</p> <ul><li>FFmpeg</li><li>Handbreak</li><li>x264/x265 encoders</li></ul> <h2>Hosting: Where do they store the Movies ?</h2> <p>Priracy sites never store videos on their main server ( to avoid shutdown ) instead, they use:</p> <h3>Offshore Hosting</h3> <p>Servers in countries with weak copyright laws:</p> <ul><li>Russia</li><li>Ukraine</li><li>Romania</li><li>Seychelles</li><li>Neatherlands offshore servers</li></ul> <h3>Cloud Storage / File Hosting Sites</h3> <p>Movies are uploaded to:</p> <ul><li>MixDrop</li><li>SteamTape</li><li>Mega</li><li>GDrive clones</li><li>ZippyShare-style sites</li></ul> <p>The main website only embeds these videos using an iframe tag.</p> <h2>FrontEnd Website</h2> <p>The forntend is usually built with:</p> <ul><li>HTML/CSS/JS</li><li>WordPress with a move theme</li><li>Automated scripts to fetch posters, details from API's (like TMDB API)</li></ul> <p>They use:</p> <ul><li>SEO keyword stuffing</li><li>Movies name + \"Download\", \"HD\", \"Watching online\"</li><li>Auto-sitemap generators for quick indexing</li></ul> <h2>BackEnd System</h2> <p>A typical piracy backend includes:</p> <p>1. Admin Panel <br> To:</p> <ul><li>Upload links</li><li>Manage movies</li><li>Update mirror links</li><li>Push Notifications</li></ul> <p>2. Data Base ( Usually MySQL or MongoDB ) <br> store:</p> <ul><li>Movie title</li><li>Description</li><li>Screentshots links</li><li>Video source links</li><li>Mirror links</li><li>Ads Scripts</li></ul> <h2>How They Avoid Being Blocked</h2> <p>When govt. blocks a piracy site, the admin uses: <br><br> 1. Reverse Proxy <br> Cloudflare, Nginx proxy, or custom proxies hide the real server. <br><br> 2. Mirror sites <br> Same site, different domains:</p> <ul><li>example1.xyz</li><li>example1.com</li><li>example1.in</li><li>example1.mobi</li></ul> <p><br>3. Fast Domain Switching <br> They keeps 30 - 100 domains ready. <br><br>4. Distributed Storage <br> Videos spread across multiple file-host servers so one takendown doesn't kill everything.</p> <h2>Monetization ( How they earn money )</h2> <p>Piracy sites earn through: <br><br>1. Ads <br>Popup ads, adult ads, malware ads, banner ads. <br><br>2. URL Shorteners <br>Before downloading, users see:</p> <ul><li>Adfly-type ads</li><li>Captchas</li><li>Multiple redirects pages</li></ul> <p><br>3. Betting / Gambling Affiliates <br>Very common in india( 1xBet, Winzo, cricket betting ). <br><br>4. Crypto Mining Scripts <br>JS runs in the browser to mine crypto.</p> <h2>How Streaming Works</h2> <p>When you click “Watch Now”: <br>1. Browser loads the site HTML <br>2. An iframe loads video from external host <br>3. Host server streams via:</p> <ul><li>HLS (.m3u8)</li><li>HLS (.m3u8)</li></ul> <p>4. Player (Video.js, JWPlayer, custom) handles buffering <br> Often, servers use:</p> <ul><li>Tokenized URLs (expire in minutes)</li><li>CDN caching for fastplayback</li></ul> <h2>Security Tricks They Use</h2> <p>protect themselves: <br><br>1. Obfuscated JavaScript <br>Hides links from scanners. <br><br>2.  Anti-scraping modules <br>Prevents DMCA bots from detecting movies. <br><br>3. Encrypted video URLs <br>Base64, AES-128, or time-based tokens. <br><br>4. No-log hosting <br>Servers that don’t keep IP records.</p> <h2>User Flow (Simplified)</h2> <ol><li>User searches: “MovieName download”</li><li>Google shows 20 mirror results</li><li>User clicks → website homepage</li><li>Homepage loads ads + movie details</li><li>User clicks “Watch/Download”</li><li>Redirects → shortener → host → file</li><li>Money made via ads/redirects</li><li>Content streamed or downloaded</li></ol> <h2>Why It Is Hard to Stop Them</h2> <ul><li>Offshore location</li><li>Anonymous admins using VPN + TOR</li><li>Domains replaced instantly</li><li>Decentralized hosting</li><li>Use of Web3 storage (IPFS, Storj)</li></ul>`},
  ];

  // ====== State & helpers ======
  const state = {
    q: '',
    category: 'All',
    tag: null,
    sort: 'new',
    page: 1,
    perPage: 6,
  };

  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));
  const fmtDate = d => new Date(d).toLocaleDateString(undefined,{year:'numeric', month:'short', day:'numeric'});

  // Load likes from localStorage
  const LIKE_KEY = 'cp_likes';
  const likeStore = JSON.parse(localStorage.getItem(LIKE_KEY)||'{}');
  POSTS.forEach(p=>{ if(likeStore[p.id]) p.likes = likeStore[p.id]; });

  // ====== Build UI ======
  const categories = ['All', ...[...new Set(POSTS.map(p=>p.category))]];
  const tags = [...new Set(POSTS.flatMap(p=>p.tags))];

  function buildChips(){
    const wrap = $('#categoryChips');
    wrap.innerHTML = '';
    categories.forEach(cat=>{
      const b = document.createElement('button');
      b.className = 'chip' + (state.category===cat?' active':'');
      b.textContent = cat;
      b.onclick = ()=>{ state.category=cat; state.page=1; state.tag=null; render(); };
      wrap.appendChild(b);
    });
    const tagWrap = $('#tagChips');
    tagWrap.innerHTML = '';
    tags.forEach(t=>{
      const b = document.createElement('button');
      b.className = 'chip' + (state.tag===t?' active':'');
      b.textContent = `#${t}`;
      b.onclick = ()=>{ state.tag = (state.tag===t?null:t); state.page=1; render(); };
      tagWrap.appendChild(b);
    });
  }

  function buildFilters(){
    const f = $('#filters');
    f.innerHTML = '';
    ['All','Design','Development','Writing','AI','Career'].forEach(cat=>{
      const el = document.createElement('span');
      el.className = 'tag';
      el.textContent = cat;
      el.onclick = ()=>{ state.category=cat; state.page=1; render(); };
      f.appendChild(el);
    });
  }

  function applyFilters(list){
    let out = list;
    if(state.q){ const q = state.q.toLowerCase(); out = out.filter(p=> (p.title+p.excerpt+p.tags.join(',')).toLowerCase().includes(q)); }
    if(state.category && state.category!=='All'){ out = out.filter(p=> p.category===state.category); }
    if(state.tag){ out = out.filter(p=> p.tags.includes(state.tag)); }
    switch(state.sort){
      case 'new': out = out.slice().sort((a,b)=> new Date(b.date)-new Date(a.date)); break;
      case 'old': out = out.slice().sort((a,b)=> new Date(a.date)-new Date(b.date)); break;
      case 'read': out = out.slice().sort((a,b)=> a.read-b.read); break;
      case 'popular': out = out.slice().sort((a,b)=> b.likes-a.likes); break;
    }
    return out;
  }

  function paginate(list){
    const start = (state.page-1)*state.perPage;
    const end = start + state.perPage;
    return { total:list.length, items:list.slice(start,end) };
  }

  function buildHero(){
    const featured = applyFilters(POSTS).sort((a,b)=> b.likes-a.likes)[0] || POSTS[0];
    $('#heroCat').textContent = featured.category;
    $('#heroTitle').textContent = featured.title;
    $('#heroExcerpt').innerHTML = featured.excerpt;
    $('#heroMeta').textContent = `${fmtDate(featured.date)} · ${featured.author} · ${featured.read} min read`;
    $('#heroImg').src = featured.cover;
    $('#heroRead').href = `#/post/${featured.slug}`;
  }

  function buildGrid(){
    const grid = $('#grid');
    const filtered = applyFilters(POSTS);
    const { total, items } = paginate(filtered);
    grid.innerHTML = '';
    items.forEach(p=>{
      const card = document.createElement('article');
      card.className = 'card';
      card.innerHTML = `
        <a class="thumb" href="#/post/${p.slug}"><img loading="lazy" src="${p.cover}" alt="${p.title}"></a>
        <div class="content">
          <span class="badge"><i></i>${p.category}</span>
          <h3><a href="#/post/${p.slug}">${p.title}</a></h3>
          <div class="meta"><span>${fmtDate(p.date)}</span><span>· ${p.read} min</span><span>· ❤ ${p.likes}</span></div>
          <p style="color:var(--subtext)">${p.excerpt}</p>
          <a class="readmore" href="#/post/${p.slug}">Read more →</a>
        </div>`;
      grid.appendChild(card);
    });
    // Pagination
    const pages = Math.max(1, Math.ceil(total / state.perPage));
    const pag = $('#pagination');
    pag.innerHTML = '';
    const addBtn = (label, page, active=false) => {
      const b = document.createElement('button');
      b.className = 'page-btn' + (active?' active':'');
      b.textContent = label;
      b.onclick = ()=>{ state.page = page; renderGridOnly(); window.scrollTo({top:0, behavior:'smooth'}); };
      pag.appendChild(b);
    };
    addBtn('«', 1);
    for(let i=1;i<=pages;i++) addBtn(i, i, i===state.page);
    addBtn('»', pages);
  }

  function renderPopular(){
    const wrap = $('#popular');
    wrap.innerHTML = '';
    POSTS.slice().sort((a,b)=> b.likes-a.likes).slice(0,5).forEach(p=>{
      const a = document.createElement('a');
      a.href = `#/post/${p.slug}`;
      a.innerHTML = `<img src="${p.cover}" alt="${p.title}" loading="lazy"><div><b style="color:var(--text)">${p.title}</b><div class="meta"><span>${p.read} min</span> · <span>❤ ${p.likes}</span></div></div>`;
      wrap.appendChild(a);
    });
  }

  function render(){
    buildChips(); buildFilters(); buildHero(); buildGrid(); renderPopular();
    $('#sort').value = state.sort;
    $('#year').textContent = new Date().getFullYear();
  }
  function renderGridOnly(){ buildGrid(); }

  // ====== Search ======
  let t; $('#search').addEventListener('input', e=>{ clearTimeout(t); t=setTimeout(()=>{ state.q=e.target.value.trim(); state.page=1; render(); }, 120); });
  // Keyboard shortcuts
  window.addEventListener('keydown', (e)=>{
    if(e.key==='/' && document.activeElement.tagName!=='INPUT' && document.activeElement.tagName!=='TEXTAREA'){ e.preventDefault(); $('#search').focus(); }
    if(['j','J'].includes(e.key)){ state.page++; renderGridOnly(); }
    if(['k','K'].includes(e.key)){ state.page=Math.max(1, state.page-1); renderGridOnly(); }
  });

  // Sort
  $('#sort').onchange = e=>{ state.sort=e.target.value; state.page=1; render(); };

  // Newsletter client-side validation only
document.querySelector('form').addEventListener('submit', function(e){
  const v = document.getElementById('email').value.trim();
  if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(v)){
    e.preventDefault();
    document.getElementById('submsg').textContent = 'Please enter a valid email.';
  }
});

  // ====== Router: list vs post view ======
  function route(){
    const hash = location.hash || '#/';
    const postView = $('#postView');
    const main = document.querySelector('main');
    if(hash.startsWith('#/post/')){
      const slug = decodeURIComponent(hash.split('#/post/')[1]);
      const post = POSTS.find(p=>p.slug===slug);
      if(!post){ location.hash = '#/'; return; }
      renderPost(post);
      postView.classList.add('active');
      main.style.display='none';
    } else {
      postView.classList.remove('active');
      main.style.display='grid';
      document.title = 'CrimsonPress — Modern Black & Red Blog';
    }
  }

  function renderPost(p){
    $('#postImg').src = p.cover;
    $('#postTitle').textContent = p.title;
    $('#postMeta').textContent = `${p.category} · ${fmtDate(p.date)} · ${p.author} · ${p.read} min read · ❤ ${p.likes}`;
    $('#postBody').innerHTML = p.body;
    document.title = p.title + ' — CrimsonPress';

    // Build TOC
    const heads = $$('#postBody h2, #postBody h3');
    const toc = $('#tocList'); toc.innerHTML = '';
    heads.forEach(h=>{
      const id = h.textContent.trim().toLowerCase().replace(/[^a-z0-9]+/g,'-');
      h.id = id; const a = document.createElement('a'); a.href = `#${id}`; a.textContent = h.textContent; toc.appendChild(a);
    });

    // Reading progress
    const prog = $('#progress');
    const onScroll = ()=>{
      const el = $('#postBody');
      const rect = el.getBoundingClientRect();
      const total = el.scrollHeight - window.innerHeight + 80; // fudge
      const scrolled = Math.min(Math.max(window.scrollY - (el.offsetTop-60), 0), total);
      const pct = total>0 ? scrolled/total : 0;
      prog.style.transform = `scaleX(${pct})`;
    };
    window.removeEventListener('scroll', window._cpScrollHandler);
    window._cpScrollHandler = onScroll;
    window.addEventListener('scroll', onScroll, {passive:true});
    onScroll();

    // Like & copy link
    $('#likeCount').textContent = p.likes;
    $('#likeBtn').onclick = ()=>{ p.likes++; likeStore[p.id]=p.likes; localStorage.setItem(LIKE_KEY, JSON.stringify(likeStore)); $('#likeCount').textContent = p.likes; };
    $('#copyLink').onclick = async ()=>{ try{ await navigator.clipboard.writeText(location.href); alert('Link copied!'); }catch{ prompt('Copy this link:', location.href); } };
    $('#jumpComments').onclick = ()=>{ $('#comments').scrollIntoView({behavior:'smooth'}); };

    // Comments (localStorage)
    const KEY = 'cp_comments_'+p.id;
    const list = JSON.parse(localStorage.getItem(KEY)||'[]');
    const renderComments = ()=>{
      const box = $('#commentList'); box.innerHTML = '';
      if(!list.length){ box.innerHTML = '<p style="color:var(--muted)">Be the first to comment.</p>'; return; }
      list.forEach(c=>{
        const div = document.createElement('div');
        div.className = 'comment';
        div.innerHTML = `<div class="who">${c.who} · ${new Date(c.when).toLocaleString()}</div><div>${c.what}</div>`;
        box.appendChild(div);
      });
    };
    renderComments();
    $('#saveComment').onclick = ()=>{
      const who=$('#who').value.trim()||'Anon';
      const what=$('#what').value.trim(); if(!what) return;
      const c = {who, what:what.replace(/</g,'&lt;').replace(/>/g,'&gt;'), when:Date.now()};
      list.unshift(c); localStorage.setItem(KEY, JSON.stringify(list)); $('#who').value=''; $('#what').value=''; renderComments();
    };
  }

  window.addEventListener('hashchange', route);

  // Back to top
  const toTop = $('#toTop');
  window.addEventListener('scroll', ()=>{ if(window.scrollY>400) toTop.classList.add('show'); else toTop.classList.remove('show'); });
  toTop.onclick = ()=> window.scrollTo({top:0, behavior:'smooth'});

  // Init
  buildChips(); buildFilters(); render(); route();
  </script>

   <!-- ✅ Structured Data (Google Rich Results) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "name": "CrimsonPress",
    "url": "https://yourdomain.com",
    "description": "Modern black & red professional tech blog",
    "publisher": {
      "@type": "Organization",
      "name": "CrimsonPress",
      "logo": {
        "@type": "ImageObject",
        "url": "https://yourdomain.com/favicon.png"
      }
    }
  }
  </script>
</body>
</html>
